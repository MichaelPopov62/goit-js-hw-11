{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["//Ця функція повинна приймати один параметр query (пошукове слово, яке є рядком), здійснювати HTTP-запит і повертати значення властивості data з отриманої відповіді.\n\n// getImagesByQuery(query);\n\nimport axios from 'axios';\n\nconst API_KEY = '50290691-d51719558e36c91c48babc26d'; // свій API-ключ.\nconst BASE_URL = 'https://pixabay.com/api/';\n\n/**\n * Виконує запит до Pixabay API для пошуку зображень за ключовим словом.\n * @param {string} query - Пошуковий запит.\n * @returns {Promise<Object>} - Дані відповіді API.\n */\nexport async function getImagesByQuery(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await axios.get(url);\n    return response.data;\n  }\n  catch (error) {\n    console.error('Помилка під час виконання HTTP-запиту:', error.message); \n    throw new Error('Помилка завантаження даних з Pixabay.');\n  }\n}\n\n","// Ця функція повинна приймати масив images, створювати HTML-розмітку для галереї, додавати її в контейнер галереї та викликати метод екземпляра SimpleLightbox refresh(). Нічого не повертає.\n// createGallery(images);\n\n//Ця функція нічого не приймає та повинна очищати вміст контейнера галереї. Нічого не повертає.\n// clearGallery();\n\n//Ця функція нічого не приймає, повинна додавати клас для відображення лоадера. Нічого не повертає.\n// showLoader();\n\n//Ця функція нічого не приймає, повинна прибирати клас для відображення лоадера. Нічого не повертає.\n// hideLoader();\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\nlet lightbox = null;// Ініціалізуємо змінну для SimpleLightbox\n\n/**\n * Створює розмітку галереї з масиву зображень.\n * @param {Array} images - Масив об'єктів із зображеннями.\n */\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n    <li class=\"gallery-item\">\n      <a href=\"${largeImageURL}\" class=\"gallery-link\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\">\n        <p><b>Likes:</b> ${likes}</p>\n        <p><b>Views:</b> ${views}</p>\n        <p><b>Comments:</b> ${comments}</p>\n        <p><b>Downloads:</b> ${downloads}</p>\n      </div>\n    </li>`\n    )\n    .join('');\n  galleryContainer.insertAdjacentHTML('beforeend', markup);\n  \n}\n  // Ініціалізуємо або оновлюємо SimpleLightbox після додавання розмітки\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt', // Підпис до зображення береться з атрибута alt\n      captionDelay: 250, // Затримка відображення підпису\n      enableKeyboard: true, // Увімкнути управління клавіатурою\n      showCounter: true, // Показати лічильник зображень\n      overlayOpacity: 0.9, // Прозорість фону\n      close: true, // Увімкнути кнопку закриття\n      animationSpeed: 300, // Швидкість анімації\n    });\n  } else {\n    lightbox.refresh(); // Оновлюємо, якщо елементи вже додані\n  }\n\n/** Очищує вміст галереї. */\nexport function clearGallery() {\n  galleryContainer.innerHTML = '';\n}\n\n/** Показує повідомлення про помилку. */\nexport function showErrorMessage(message) {\n  iziToast.error({\n    title: 'Error',\n    message,\n  });\n}\n\n/** Показує успішне повідомлення. */\nexport function showSuccessMessage(message) {\n  iziToast.success({\n    title: 'Success',\n    message,\n  });\n}\n","//напиши всю логіку роботи додатка\n\n//Виклики нотифікацій iziToast, усі перевірки на довжину масиву в отриманій відповіді робимо саме в цьому файлі.\n\n//Імпортуй в нього функції із файлів pixabay-api.js та render-functions.js та викликай їх у відповідний момент.\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showErrorMessage,\n  showSuccessMessage,\n} from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst searchInput = form.querySelector('input[name=\"search-text\"]');\n// подія на сабміт форми\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const query = searchInput.value.trim();\n\n  // Перевірка на порожній рядок\n  if (!query) {\n    alert('Будь ласка, введіть пошуковий запит.');\n    return;\n  }\n// очищення галереі передтновим запитом\n  clearGallery();\n\n  try {\n    const data = await getImagesByQuery(query);\n\n    // Якщо порожній масив\n    if (data.hits.length === 0) {\n      showErrorMessage('Sorry, there are no images matching your search query. Please try again!');\n    } else {\n      //створюю галерею\n      createGallery(data.hits);\n      showSuccessMessage('Images loaded successfully!');\n     \n    }\n  } catch (error) {\n    console.error(error);\n    showErrorMessage('An error occurred while loading images.');\n  }\n});\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","url","axios","error","galleryContainer","lightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","clearGallery","showErrorMessage","message","iziToast","showSuccessMessage","form","searchInput","event","data"],"mappings":"owBAMA,MAAMA,EAAU,qCACVC,EAAW,2BAOV,eAAeC,EAAiBC,EAAO,CAC5C,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAC1CG,CACD,CAAA,2DAED,GAAI,CAEF,OADiB,MAAME,EAAM,IAAID,CAAG,GACpB,IACjB,OACME,EAAO,CACZ,cAAQ,MAAM,yCAA0CA,EAAM,OAAO,EAC/D,IAAI,MAAM,uCAAuC,CACxD,CACH,CCXA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EAC1D,IAAIC,EAAW,KAMR,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,iBAEKL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,2BAGnBC,CAAK;AAAA,2BACLC,CAAK;AAAA,8BACFC,CAAQ;AAAA,+BACPC,CAAS;AAAA;AAAA,UAGnC,EACA,KAAK,EAAE,EACVX,EAAiB,mBAAmB,YAAaI,CAAM,CAEzD,CAEOH,EAWHA,EAAS,QAAO,EAVhBA,EAAW,IAAIW,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,IACd,eAAgB,GAChB,YAAa,GACb,eAAgB,GAChB,MAAO,GACP,eAAgB,GACtB,CAAK,EAME,SAASC,GAAe,CAC7Bb,EAAiB,UAAY,EAC/B,CAGO,SAASc,EAAiBC,EAAS,CACxCC,EAAS,MAAM,CACb,MAAO,QACP,QAAAD,CACJ,CAAG,CACH,CAGO,SAASE,EAAmBF,EAAS,CAC1CC,EAAS,QAAQ,CACf,MAAO,UACP,QAAAD,CACJ,CAAG,CACH,CCvEA,MAAMG,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAcD,EAAK,cAAc,2BAA2B,EAElEA,EAAK,iBAAiB,SAAU,MAAME,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMxB,EAAQuB,EAAY,MAAM,KAAI,EAGpC,GAAI,CAACvB,EAAO,CACV,MAAM,sCAAsC,EAC5C,MACD,CAEDiB,IAEA,GAAI,CACF,MAAMQ,EAAO,MAAM1B,EAAiBC,CAAK,EAGrCyB,EAAK,KAAK,SAAW,EACvBP,EAAiB,0EAA0E,GAG3FZ,EAAcmB,EAAK,IAAI,EACvBJ,EAAmB,6BAA6B,EAGnD,OAAQlB,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBe,EAAiB,yCAAyC,CAC3D,CACH,CAAC"}